{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-08-05 16:53:24.370698",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<div>\r\n\r\n{{letter_head}}\r\n\r\n</div>\r\n\r\n<table style=\"width: 100%;font-size: 0.7rem;\">\r\n    <tr>\r\n        <td style=\"width: 50%;text-align: left;\">VAT No:{{frappe.db.get_value(\"Company\", doc.company , \"custom_vat_number\")}}</td>\r\n        <td style=\"width: 50%;text-align: right;\">\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a : {{frappe.db.get_value(\"Company\", doc.company , \"custom_vat_number_in_arabic\")}}</td>\r\n    </tr>\r\n</table>\r\n<div style=\"width: 100%;justify-content: center;display: flex;font-size: 1rem;\"><span style=\"border-bottom: 1px solid black;font-weight: bold;\">RENTAL INVOCE</span></div>\r\n<table style=\"width: 100%; font-size: 0.7rem;\">\r\n    <tr>\r\n        <td style=\"width: 50%;font-weight: bold;\">{{doc.company}}</td>\r\n        <td style=\"width: 50%;text-align: right;font-weight: bold;\">{{frappe.db.get_value(\"Company\", doc.company , \"custom_country_in_arabic\")}}</td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"width: 50%;\">{{frappe.db.get_value(\"Company\", doc.company , \"custom_city\")}}</td>\r\n        <td style=\"width: 50%;text-align: right;\">{{frappe.db.get_value(\"Company\", doc.company , \"custom_city_in_arabic\")}}</td>\r\n    </tr>\r\n        <tr>\r\n        <td style=\"width: 50%;\">VAT No:{{frappe.db.get_value(\"Company\", doc.company , \"custom_vat_number\")}}</td>\r\n                <td style=\"width: 50%;text-align: right;\">\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a : {{frappe.db.get_value(\"Company\", doc.company , \"custom_vat_number_in_arabic\")}}</td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"width: 50%;\">Invoice#{{doc.name}}</td>\r\n        <td style=\"width: 50%;text-align: right;\">{{doc.name}} : \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629  </td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"width: 50%;\">Date: {{doc.get_formatted(\"posting_date\")}}</td>\r\n        <td style=\"width: 50%;text-align: right;\" > {{doc.get_formatted(\"posting_date\")}} : \u0627\u0644\u062a\u0627\u0631\u064a </td>\r\n    </tr>\r\n\r\n    <tr>\r\n        <td style=\"width: 50%;\">{{doc.project}}</td>\r\n        <td style=\"width: 50%;text-align: right;\">{{frappe.db.get_value(\"Project\",doc.project,\"project_name\")}}</td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"width: 50%;\">PO#: Contract, {{doc.po_no}}</td>\r\n        <td style=\"width: 50%;text-align: right;\">\u0631\u0642\u0645 \u0637\u0644\u0628 \u0627\u0644\u0634\u0631\u0627\u0621 : {{doc.po_no}} \u0639\u0642\u062f</td>\r\n    </tr>\r\n</table>\r\n\r\n<table border=\"1\" style=\"width: 100%;font-size: 0.7rem;\">\r\n    <tr>\r\n        <td style=\"text-align: center;font-size: 1rem;font-weight: bold;\" colspan=\"3\">DESCRIPTION</td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"3\" style=\"padding: 0!important;\">\r\n            <table style=\"width: 100%;font-size: 0.7rem;padding: 0!important;\">\r\n                <tr>\r\n                    <td colspan=\"3\" style=\"text-align: center;font-size: 1rem;\">\u0642\u064a\u0645\u0629 \u0627\u064a\u062c\u0627\u0631 \u0645\u0639\u062f\u0627\u062a \u0633\u0642\u0627\u0644\u0627\u062a \u0627\u0644\u0649 \u0645\u0634\u0631\u0648\u0639\u0643\u0645 \u062e\u0644\u0627\u0644 \u0627\u0644\u0641\u062a\u0631\u0629</td>\r\n                </tr>\r\n                <tr>\r\n                    <td colspan=\"3\">BEING HIRE CHARGES FOR SCAFFOLDING EQUIPMENT SUPPLIED TO YOUR SITE FOR PERIOD</td>\r\n                </tr>\r\n                <tr>\r\n                    <td colspan=\"3\">{{doc.get_formatted(\"posting_date\")}} TO {{doc.get_formatted(\"due_date\")}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>INVOICE VALUE:</td>\r\n                    <td>\u0627\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</td>\r\n                    <td style=\"text-align: right;\"><b>{{doc.get_formatted(\"total\")}}</b></td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td>Total Value<br>VAT 5%<br>Total Net Hire Value</td>\r\n        <td style=\"text-align: right;\">\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u062f\u0648\u0646 \u0627\u0644\u0636\u0631\u064a\u0628\u0629<br>\u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 5<br>\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629</td>\r\n        <td style=\"text-align: right;font-weight: bold;\">{{doc.get_formatted(\"total\")}}<br>{{doc.get_formatted(\"total_taxes_and_charges\")}}<br>{{doc.get_formatted(\"grand_total\")}}</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Prepared By:<br>Signature:\r\n<br>Date:</td>\r\n        <td>Checked By:<br>Signature:<br>Date:</td>\r\n        <td>Received By:\r\n<br>Signature:<br>Date:</td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"visibility: hidden;\">1</div>\r\n\r\n<table class=\"\" style=\"width: 100%;font-size: 0.7rem;border-bottom: 1px sold black;\">\r\n    <tr style=\"border-top: 1px solid black; border-bottom: 1px solid black;font-weight: bold;\">\r\n        <th style=\"padding: 3px!important;text-align: center;\">ITM<br>CODE</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">ITEM<br>DESCRIPTION</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">HIRE/RENT<br>REFERENCE</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">HIRE/RENT<br>Quantity</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">HIRE/RENT<br>DATE</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">HIRE/RENT<br>PER 30 Days</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">DAYS</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">VALUE</th>\r\n    </tr>\r\n    {% set opening_date = get_rental_inv_opening_date(doc.items[0].sales_order, doc.posting_date) %}\r\n    {% set opening_days_diff = frappe.utils.date_diff(doc.posting_date, opening_date) + 1 %}\r\n    {% for row in doc.items %}\r\n    {% set opening_qty = get_rental_opening_qty(row.sales_order, row.item_code, opening_date) %}\r\n    {% set rental_order_per_day_rate = get_rental_order_per_day_rate(row.sales_order, row.so_detail, row.item_code) %}\r\n    {% set transactions = get_deliveries_and_returns(row.sales_order, row.item_code, opening_date, doc.posting_date) %}\r\n    {% set opening_amt = frappe.utils.flt((rental_order_per_day_rate*opening_days_diff)*opening_qty, 2) %}\r\n    {% set total_qty = {\"total_qty\": opening_qty} %}\r\n    {% set total_amt = {\"total_amt\": opening_amt} %}\r\n    <tr>\r\n        <td style=\"padding: 3px!important;text-align: center;\">{{row.item_code}}</td>\r\n        <td style=\"padding: 3px!important;\">{{row.description}}</td>\r\n        <td style=\"padding: 3px!important;text-align: center;\">Opening</td>\r\n        <td style=\"padding: 3px!important;text-align: center;\">{{opening_qty}}</td>\r\n        <td style=\"padding: 3px!important;text-align: center;\">{{opening_date}}</td>\r\n        <td style=\"padding: 3px!important;text-align: center;\">{{rental_order_per_day_rate}}</td>\r\n        <td style=\"padding: 3px!important;text-align: center;\">{{opening_days_diff}}</td>\r\n        <td style=\"padding: 3px!important;text-align: right;\">{{opening_amt}}</td>\r\n    </tr>\r\n        {% for record in transactions %}\r\n        {% set record_days_diff = frappe.utils.date_diff(doc.posting_date, record.posting_date) + 1 %}\r\n        {% set record_amt = frappe.utils.flt((rental_order_per_day_rate*record_days_diff)*record.qty, 2) %}\r\n        <tr>\r\n            <td style=\"padding: 3px!important;text-align: center;\"></td>\r\n            <td style=\"padding: 3px!important;text-align: center;\"></td>\r\n            <td style=\"padding: 3px!important;text-align: center;\">{{record.name}}</td>\r\n            <td style=\"padding: 3px!important;text-align: center;\">{{record.qty}}</td>\r\n            <td style=\"padding: 3px!important;text-align: center;\">{{record.posting_date}}</td>\r\n            <td style=\"padding: 3px!important;text-align: center;\">{{rental_order_per_day_rate}}</td>\r\n            <td style=\"padding: 3px!important;text-align: center;\">{{record_days_diff}}</td>\r\n            <td style=\"padding: 3px!important;text-align: right;\">{{record_amt}}</td>\r\n            {{ total_qty.update({\"total_qty\": total_qty.total_qty + record.qty}) or \"\" }}\r\n            {{ total_amt.update({\"total_amt\": total_amt.total_amt + record_amt}) or \"\" }}\r\n        </tr>\r\n        {% endfor %}\r\n    <tr style=\"border-bottom: 1px solid black;font-weight: bold;\">\r\n        <th style=\"padding: 3px!important;text-align: center;\"></th>\r\n        <th style=\"padding: 3px!important;\"><b>Total Product <b/></th>\r\n        <th style=\"padding: 3px!important;text-align: center;\"></th>\r\n        <th style=\"padding: 3px!important;text-align: center;\">{{total_qty.total_qty}}</th>\r\n        <th style=\"padding: 3px!important;text-align: center;\"></th>\r\n        <th style=\"padding: 3px!important;text-align: center;\"></th>\r\n        <th style=\"padding: 3px!important;text-align: center;\"></th>\r\n        <th style=\"padding: 3px!important;text-align: right;\">{{total_amt.total_amt}}</th>\r\n    </tr>\r\n    {% endfor %}\r\n</table>\r\n\r\n\r\n<table style=\"width: 100%;font-size: 0.7rem;font-weight: bold;\">\r\n    <tr>\r\n        <td style=\"visibility: hidden;width: 40%;\">1</td>\r\n        <td style=\"width: 30%;text-align: right;\">TOTAL HIRE VALUE:</td>\r\n        <td style=\"width: 15%;text-align: right;\">{{doc.currency}}</td>\r\n        <td style=\"width: 15%;text-align: right;\">{{doc.total}}</td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"visibility: hidden;\">1</td>\r\n        <td style=\"text-align: right;\">DISCOUNT:</td>\r\n        <td style=\"text-align: right;\">{{doc.currency}}</td>\r\n        <td style=\"text-align: right;\">{{doc.discount_amount}}</td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"visibility: hidden;width: 50%;\">1</td>\r\n        <td style=\"text-align: right;\">TOTAL HIRE NET VALUE: </td>\r\n        <td style=\"text-align: right;\">{{doc.currency}}</td>\r\n        <td style=\"text-align: right;\"></td>\r\n    </tr>\r\n</table>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-08-08 23:01:54.106431",
 "modified_by": "Administrator",
 "module": "ERPlex Rental",
 "name": "Rental Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}